//
//  DeveloperPreview.swift
//  swiftcoin
//
//  Created by Kelvin Fok on 21/10/22.
//

import SwiftUI

extension PreviewProvider {
  static var dev: DeveloperPreview {
    DeveloperPreview.instance
  }
}

class DeveloperPreview {
  static let instance = DeveloperPreview()  
  let stat1 = Statistic(title: "Current Price", value: "$21,543,00", percentageChange: 1.23)
  let stat2 = Statistic(title: "Market Capitalisation", value: "$21,543,00", percentageChange: 3.23)
  let stat3 = Statistic(title: "Rank", value: "1", percentageChange: nil)
  let stat4 = Statistic(title: "Volumn", value: "35.99Bn", percentageChange: nil)
  
  lazy var sectionModel = CoinDetailSection(title: "Overview", stats: [stat1, stat2, stat3, stat4])
  
  let coin: Coin = {
    let json: String = """
    {
        "id": "bitcoin",
        "symbol": "btc",
        "name": "Bitcoin",
        "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",
        "current_price": 19181.86,
        "market_cap": 367789594192,
        "market_cap_rank": 1,
        "fully_diluted_valuation": 402568398275,
        "total_volume": 30936188876,
        "high_24h": 19186.88,
        "low_24h": 18730.04,
        "price_change_24h": 138.89,
        "price_change_percentage_24h": 0.72934,
        "market_cap_change_24h": 1755958816,
        "market_cap_change_percentage_24h": 0.47973,
        "circulating_supply": 19185762.0,
        "total_supply": 21000000.0,
        "max_supply": 21000000.0,
        "ath": 69045,
        "ath_change_percentage": -72.24418,
        "ath_date": "2021-11-10T14:24:11.849Z",
        "atl": 67.81,
        "atl_change_percentage": 28161.64942,
        "atl_date": "2013-07-06T00:00:00.000Z",
        "roi": null,
        "last_updated": "2022-10-21T19:39:07.853Z",
        "sparkline_in_7d": {
          "price": [
            19353.72195104118, 19198.915511839783, 19223.57423056235,
            19185.19560060955, 19117.960836598, 19154.821364062154,
            19194.643188187696, 19191.380029580385, 19185.36217018641,
            19191.564672626537, 19204.30682173264, 19189.26628490064,
            19174.704931240896, 19169.195344893793, 19161.585767515764,
            19106.192369174474, 19107.401071335673, 19148.979193562485,
            19155.117811593547, 19182.69153042117, 19126.116118137073,
            19147.511212753012, 19133.660229066776, 19130.72198492508,
            19109.447580075503, 19128.201866565036, 19101.504982458206,
            19095.300858664385, 19074.771421880847, 19072.122652041628,
            19072.780513358884, 19126.552320075007, 19149.61908538506,
            19119.86185208045, 19123.185811934487, 19142.80280327335,
            19146.540336102124, 19132.776972301806, 19135.333208505253,
            19170.061536656907, 19144.832244439614, 19129.923892576495,
            19138.264616297172, 19139.83923818251, 19134.72402486814,
            19126.722216849274, 19160.86332202918, 19141.29630435813,
            19127.597696793342, 19121.881237442118, 19334.24835173174,
            19334.63933843128, 19244.151692289328, 19331.759403141215,
            19274.21494495987, 19210.62602860393, 19207.061038346048,
            19186.51353085701, 19180.102975640068, 19224.736974075167,
            19265.908824413542, 19253.11945649304, 19265.688323690378,
            19265.305089428162, 19345.203573031315, 19391.506330441614,
            19454.14655117412, 19515.480952537582, 19601.539194645306,
            19500.428455484052, 19550.386605346102, 19502.87364837517,
            19522.29765467499, 19516.112024301474, 19532.01873421546,
            19535.676712352968, 19519.808748695992, 19502.8226459347,
            19557.895548868444, 19578.240035110248, 19534.801987637256,
            19512.236061500014, 19560.818934497773, 19581.327311604866,
            19571.314125069483, 19660.63009146628, 19648.686598941156,
            19570.95963406971, 19525.24955797527, 19530.075989890214,
            19583.485984464307, 19605.78678515135, 19574.996941964437,
            19424.38026964221, 19334.157621513103, 19444.56501521997,
            19409.285535586747, 19164.164338002003, 19211.768955660533,
            19394.748764786993, 19299.660936204546, 19322.35726645525,
            19330.455739126475, 19268.799180040704, 19320.233263815557,
            19298.2960840077, 19311.278545316716, 19265.832314712374,
            19256.222601488058, 19202.01103861112, 19234.566771841513,
            19184.16892231751, 19261.131557284683, 19206.89094756097,
            19170.97549244248, 19155.073043004777, 19099.33660469521,
            19192.442514387203, 19304.167081017404, 19225.710705906447,
            19159.423654771057, 19180.763203249826, 19201.21055929438,
            19198.53195668864, 19187.38291039068, 19134.547783482674,
            19134.242664465204, 18976.640753676762, 19031.98516994864,
            19060.232219140024, 19054.907706433492, 19164.508051551737,
            19137.55722888261, 19117.65408377274, 19142.039462088742,
            19136.989823819567, 19173.28519428838, 19207.468220403556,
            19211.710244395486, 19167.0205623987, 19173.600589760783,
            19305.345930702806, 19278.01215631998, 19174.72650217006,
            19094.910315802168, 19067.54090824143, 19046.100355685714,
            19048.21571545648, 19081.254204142453, 19024.33368591166,
            19068.872653807117, 19053.952268337078, 19069.139247447227,
            19116.49366478781, 19048.79214728447, 19037.475457917353,
            19041.45987172357, 19045.28974479827, 19039.169606947078,
            18977.818414279067, 19001.398886231764, 18983.653149999704,
            18957.66784989103, 18788.33090984761, 18995.590029045874,
            19008.95035584781, 19093.96376768533, 19166.050380261637
          ]
        },
        "price_change_percentage_24h_in_currency": 0.7293422293777992
      }
    """
    let data = json.data(using: .utf8)!
    return try! JSONDecoder().decode(Coin.self, from: data)
  }()
}
